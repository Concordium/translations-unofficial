.. Should answer:
    - What is a smart contract
    - Why use a smart contract
    - What are the use cases
    - What are not the use cases

.. _introduction:

==========================
Введение в смарт-контракты
==========================

Смарт-контракт - это пользовательский фрагмент кода, отправленный в блокчейн
Concordium, и используемый для определенного поведения, которое не является
непосредственно частью основного протокола. Смарт-контракты выполняются узлами
в сети Concordium в соответствии с установленными правилами. Их выполнение
полностью прозрачно, и все узлы должны подтвердить результат выполнения,
который основан на общедоступной информации.

Смарт-контракт может получать, хранить и отправлять GTU, он может следить за
некоторыми аспектами сети и поддерживать свое состояние. Смарт-контракты
всегда выполняются в ответ на **внешние** действия, например, отправка сообщения.
На практике смарт-контракты часто представляют собой небольшую часть более
крупной системы, сочетающую в себе функциональность сети и вне ее. Примером
функциональности вне сети может быть сервер, который вызывает смарт-контракт на
основе данных из реального мира, таких как цены на акции или информация о погоде.

Для чего нужны смарт-контракты?
===============================

Смарт-контракты могут снизить необходимый уровень доверия к третьим сторонам.
В одних случаях устраняя необходимость в доверенной третьей стороне, в других
случаях уменьшая их возможности и тем самым уменьшая необходимый уровень доверия к ним.

Поскольку смарт-контракты выполняются полностью прозрачно, так что любой человек,
имеющий доступ к узлу, может проверить это, поэтому они могут быть очень полезны
для обеспечения соглашения между сторонами.

.. _auction:

Пример смарт-контракта для аукциона
-----------------------------------

Примером использования смарт-контрактов может быть проведение аукциона; здесь мы
программируем смарт-контракт так, чтобы он принимал любые предложения от любого
участника и отслеживал самого лучшего претендента.
Когда аукцион заканчивается, смарт-контракт отправляет победившую ставку GTU продавцу,
а все остальные ставки возвращает обратно.
Затем продавец должен отправить товар победителю.

Смарт-контракт заменяет главную роль организатора аукциона. Сам контракт регулирует
только часть торгов и распределение GTU в сети. Вероятно, также потребуется некоторая
логика для возмещения расходов тому, кто предложит самую высокую цену, если продавец не
выполнит свои обязательства. Скорее всего, это будет означать, что контракт должен
содержать какое-то правило доказательства того, что продавец действительно выполнил
свое обязательство, или какой-то способ для того, чтобы участник, предложивший самую
высокую цену, имел возможность подать жалобу. Смарт-контракты не могут решить эти реальные
проблемы автоматически, и лучшее решение, вероятно, будет зависеть от специфики аукциона.

Для чего смарт-контракты *не* предназначены?
============================================

Смарт-контракты - это очень интересная технология, и люди все еще находят новые
способы их применения.
Однако в некоторых случаях смарт-контракты не являются хорошим решением.

Одним из ключевых преимуществ смарт-контрактов является доверие к выполнению кода,
и для этого большое количество узлов в блокчейн сети должно выполнять один и тот же
код и обеспечивать согласование результата. Естественно, это становится дорого по
сравнению с запуском того же кода на одном узле в какой-либо облачной службе.

В случаях, когда смарт-контракт зависит от тяжелых вычислений, можно было бы
вынести эти расчеты из смарт-контракта и заставить смарт-контракт выполнять
только некоторые ключевые части вычислений, используя криптографические методы,
чтобы гарантировать правильное выполнение других частей.

Наконец, важно помнить, что смарт-контракты не имеют конфиденциальности, и **всё**,
к чему у смарт-контракта есть доступ, доступно всем остальным в сети Concordium,
а это означает, что трудно обрабатывать конфиденциальные данные в смарт-контракте.
В некоторых случаях можно использовать криптографические инструменты, чтобы не
работать с данными напрямую, а заставить смарт-контракты работать с производными
понятиями, такими как шифрование и обязательства, которые скрывают фактические данные.

Жизненный цикл смарт-контракта
==============================

Смарт-контракт сначала развертывается в сети как часть :ref:`contract
module <contract-module>`. После этого смарт-контракт может быть *инициализирован*
для получения :ref:`smart contract instance <contract-instances>`. Наконец, экземпляр
смарт-контракта может многократно обновляться в соответствии со своей собственной логикой.
