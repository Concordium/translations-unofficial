=====================================
Развёртывание модуля смарт-контракта
=====================================

Это руководство покажет, как развернуть *on-chain* модуль смарт-контракта и как назвать его.

Подготовка
===========

Убедитесь, что  :ref:`нода запущена<run-a-node>` используя последнюю версию :ref:`Concordium software<downloads>` и что имеется :ref:`модуль смарт-контракта<setup-tools>` готовый для развёртывания.

Как только развёртывание модуля смарт-контракта произведено в форме транзакции, потребуется также установленный ``concordium-client`` с аккаунтом, имеющим достаточное количество GTU для оплаты транзакции.

.. note::

   Стоимость этой транзакции зависит от размера модуля смарт-контракта. ``concordium-client`` отображает стоимость и запрашивает подтверждение до выполнения любой транзакции.

Развёртывание
==============

Для развёртывания модуля смарт-контракта ``my_module.wasm`` , используя аккаунт с именем account-name, выполните следующую команду:

.. code-block:: console

   $concordium-client module deploy my_module.wasm --sender account_name

.. note::

   Опцию --sender можно опустить, если будет использоваться аккаунт "default". Для краткости, мы сделаем так чуть позже.

В случае успеха результат будет выглядеть примерно так:

.. code-block:: console

   Module successfully deployed with reference: 'd121f262f3d34b9737faa5ded2135cf0b994c9c32fe90d7f11fae7cd31441e86'.

Обратите внимание на ссылку на модуль, так как она используется при создании экземпляра смарт-контракта.

.. seealso::

   Для получения инструкций, как инициализировать смарт-контракты из развёрнутого
   модуля, смотрите
   :ref:`initialize-contract`.

   Для получения более подробной информацией по ссылкам на модули смотрите :ref:`references-on-chain`.

Именование модулей
====================

Модулю можно присвоить локальный псевдоним, или *имя*, которое делает обращение к нему проще.
Имя хранится только локально утилитой ``concordium-client``, и невидимо on-chain.

.. seealso::

   Для объяснения, где и как сохраняются имена и другие локальные параметры, смотрите :ref:`local-settings`.

Чтобы добавить имя в процессе развёртывания, используется параметр ``--name`` .
Назовём этот модуль ``my_deployed_module``:

.. code-block:: console

   $concordium-client module deploy my_module.wasm --name my_deployed_module

В случае успеха результат будет выглядеть примерно так:

.. code-block:: console

   Module successfully deployed with reference: '9eb82a01d96453dbf793acebca0ce25c617f6176bf7a564846240c9a68b15fd2' (my_deployed_module).

Модуль также может быть именован с помощью команды ``name`` .
Чтобы назвать модуль по ссылке
``9eb82a01d96453dbf793acebca0ce25c617f6176bf7a564846240c9a68b15fd2`` as
``some_deployed_module``, выполните следующую команду:

.. code-block:: console

   $concordium-client module name \
             9eb82a01d96453dbf793acebca0ce25c617f6176bf7a564846240c9a68b15fd2 \
             --name some_deployed_module

Результат выполнения команды будет выглядеть примерно так:

.. code-block:: console

   Module reference 9eb82a01d96453dbf793acebca0ce25c617f6176bf7a564846240c9a68b15fd2 was successfully named 'some_deployed_module'.
