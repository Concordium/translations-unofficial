.. Should answer:
    - What is a smart contract
    - Why use a smart contract
    - What are the use cases
    - What are not the use cases

.. _introduction:

===============================
智能合约的介绍
===============================

智能合约是提交给Concordium区块链的用户提供的一段代码，用于定义不直接属于核心协议的行为。智能合约由Concordium网络中的节点根据预定义的规则执行。它们的执行是完全透明的，所有节点必须仅基于公开可用的信息就执行结果达成一致。
一个智能合约可以接收、持有和发送GTU，它能够观察到链的某些方面，并保持自己的状态。智能合约总是作为对外部操作（例如，帐户发送消息）的响应来执行。在实践中，智能合约通常是更大系统的一小部分，结合了链上和链下功能。链外功能的一个例子是服务器，它根据真实世界的数据（如股票价格或天气信息）调用智能合约。

智能合约有什么用?
=============================

智能合约可以减少对第三方所需的信任，在某些情况下消除了对受信任第三方的需求，在其他情况下降低了第三方的能力，从而减少了第三方所需的信任。由于智能合约的执行是完全透明的，任何有权访问节点的人都可以通过这种方式进行验证，因此它们对于确保各方之间的协议非常有用。

.. _auction:

智能合约用于拍卖的案例
------------------------------

说说智能合约的一个用例:举行拍卖；在这里，我们开发一个智能合约以接受任何人的不同出价，并让它跟踪出价最高的人(即中标者)。当拍卖结束时，智能合约将中标者的GTU发送给卖家，并将所有其他出价原路返回。然后卖家应将商品发送给中标者。智能合约取代了拍卖人的角色。合同本身仅适用于投标环节和GTU的链上分配．另外，如果卖方不履行其义务，它可能还需要一些逻辑来补偿出价最高的人。这很可能意味着合同需要支持某种可以证明卖方确实履行了其义务的功能，或者支持某种能让最高出价者提出投诉的方式。智能合约无法自动解决这些现实问题，最佳解决方案可能取决于拍卖的具体细节。

智能做不了什么?
===================================

智能合约是一项非常令人兴奋的技术，人们仍在寻找利用智能合约的新方法。然而，在某些情况下，智能合约并不是一个好的解决方案。
智能合约的一个关键优势是对代码执行的信任，而要实现这一点，区块链网络中的大量节点必须执行相同的代码并确保结果的一致性。当然，与在某个云服务的一个节点上运行相同的代码相比，这会变得很昂贵。
在智能合约依赖大量计算的情况下，可以将此计算移出智能合约放到链下，并让智能合约仅执行计算的一些关键部分，使用加密技术确保其他部分正确执行。
最后，重要的是要记住，智能合约没有隐私，智能合约可以访问的所有内容都可以被Concordium网络上的其他人访问，这意味着在智能合约中很难处理敏感数据。在某些情况下，可能会使用加密工具来不直接处理数据，而是让智能合约与派生概念（如加密和承诺）一起工作，从而隐藏实际数据。

智能合约的生命周期
==============================

智能合约首先作为 :ref:`contract module<contract module>` 的一部分部署到链中。然后，可以初始化智能合约以生成 :ref:`smart contract instance<contract instances>` 。最后，智能合约实例可以根据其自身的逻辑进行重复更新。
